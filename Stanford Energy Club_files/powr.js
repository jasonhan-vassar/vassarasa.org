!function(){var D,U,F,o,G="https://www.powr.io";function Y(){return function(){}}function X(){for(var e=document.querySelectorAll(".powrLoaded"),t=0;t<e.length;t++){var o=e[t];o.innerHTML="",o.classList.remove("powrLoaded")}}function K(e,t,o){e.addEventListener?e.addEventListener(t,o,!1):e.attachEvent&&e.attachEvent("on"+t,o)}function Q(e,t,o,n,i,r){var l=e;Y()("Match:",e);var a=l.match(/powr-[^\s\]]*/i),e=l.match(/id="[^"]*"/i);null==e&&(e=l.match(/id='[^']*'/i)),null==e&&null!=(e=l.match(/id=[^\]]*/i))&&(e=e[0].replace("id=",'id="')+'"'),null==e&&(e=l.match(/label="[^"]*"/i)),null==e&&(e=l.match(/label='[^']*'/i)),null==e&&(e="");e='<div class="'+a+'" '+e+"></div>";return Y()("Result is:"+e),e}function Z(e){for(var t={},o=e.search("\\?"),n=(e=e.substr(o+1)).split("&"),i=0;i<n.length;i++){var r,l=n[i].split("=");void 0===t[l[0]]?t[l[0]]=l[1]:"string"==typeof t[l[0]]?(r=[t[l[0]],l[1]],t[l[0]]=r):t[l[0]].push(l[1])}return t}function $(){var e=navigator.userAgent.toLowerCase();return-1!=e.indexOf("msie")&&parseInt(e.split("msie")[1])}function ee(e){for(var t=!1,o=e;o&&o!==document;o=o.parentNode)if(null!=o.classList&&o.classList.contains("powr-ignore")){t=!0;break}return t}function te(){try{return window.top.location.href}catch(e){return Y()("Couldn't get page url:",e),""}}function oe(o){var n=new XMLHttpRequest;n.open("GET",POWR_RECEIVERS[o].data_url,!0),n.withCredentials=!0,n.onreadystatechange=function(){var e,t;n.readyState!=XMLHttpRequest.DONE&&4!=n.readyState||(200==n.status?((e=JSON.parse(n.responseText)).iframe_index=o,POWR_RECEIVERS[o].data=e,t=setInterval(function(){POWR_RECEIVERS[o].loaded&&(POWR_RECEIVERS[o].receiver.postMessage(JSON.stringify({message:"loadView",data:e}),POWR_RECEIVERS[o].url),clearInterval(t))},10)):Y()("Error receiving POWr App Data"))},n.send()}function s(e){switch(e.scrollTo){case"top":i(0,e.scrollSpeed);break;case"bottom":t=e.scrollSpeed,i((document.documentElement.scrollHeight||document.body.scrollHeight)-window.innerHeight+50,t);break;case"text":!function(e,t){e=function(e){for(var t=document.querySelectorAll("body, body *"),o=0;o<t.length;o++)for(var n=t[o],i=n.childNodes,r=0;r<i.length;r++){var l=i[r];if(3==l.nodeType)if(-1<l.nodeValue.search(e))return n}return!1}(e);if(!e)return;i(e.getBoundingClientRect().top+window.scrollY-150,t)}(e.scrollToText,e.scrollSpeed);break;case"anchor":!function(e,t){e=document.getElementById(e);if(!e)return;i(e.getBoundingClientRect().top+window.scrollY-150,t)}(e.scrollToAnchor,e.scrollSpeed);break;case"app":t=document.querySelector('iframe[src="'+e.url+'"]');if(t){if(e.ios){window.scrollTo(0,t.offsetTop-50);break}i(t.offsetTop-50,e.scrollSpeed);break}window.scrollBy(0,e.distance)}var t}function i(e,t,o){var n=document.documentElement.scrollTop||document.body.scrollTop;n!==o&&(window.requestAnimationFrame(function(){i(e,t,n)}),n<e?window.scrollTo(0,n+(e-n)/t):window.scrollTo(0,n-(n-e)/t))}function e(e){Y()("Settings got a message!",e);try{var t=JSON.parse(e.data);if("viewLoaded"==t.message){Y()("Settings received view loaded");var o=t.data.iframe_index;POWR_RECEIVERS[o].loaded=!0;var n=t.data.cookiesToGet;n&&(POWR_RECEIVERS[o].cookies=n.map(function(e){return{cname:e,value:function(e){for(var t=e+"=",o=decodeURIComponent(document.cookie).split(";"),n=0;n<o.length;n++){for(var i=o[n];" "==i.charAt(0);)i=i.substring(1);if(0==i.indexOf(t))return i.substring(t.length,i.length)}return""}(e)}}),POWR_RECEIVERS[o].receiver.postMessage(JSON.stringify({message:"cookiesSent",cookies:POWR_RECEIVERS[o].cookies}),POWR_RECEIVERS[o].url))}else if("updateSize"==t.message){"undefined"!=typeof gadgets&&void 0!==gadgets.window&&void 0!==gadgets.window.adjustHeight&&gadgets.window.adjustHeight(t.data.height);var o=t.data.iframe_index,i=document.querySelectorAll('[powrindex="'+o+'"]')[0];if(i&&(i.height=t.data.height+"px",i.style.height=t.data.height+"px",i.style.display="inline",null!=t.data.postCss))for(var r in t.data.postCss)i.style[r]=t.data.postCss[r];t.data.postMessage&&"scrollTo"==t.data.postMessage.messageType&&s(t.data.postMessage),Y()("Updating size of el",i)}else{"loadMe"==t.message?(Y()("Settings received loadMe request"),o=t.data.iframe_index,null!=POWR_RECEIVERS[o]&&null!=POWR_RECEIVERS[o].data&&POWR_RECEIVERS[o].receiver.postMessage(JSON.stringify({message:"loadView",data:POWR_RECEIVERS[o].data}),POWR_RECEIVERS[o].url)):"setCookie"===t.message&&(l=t.cname,a=t.value,n=t.exdays,(o=new Date).setTime(o.getTime()+24*n*60*60*1e3),o="expires="+o.toUTCString(),document.cookie=l+"="+a+";"+o+";path=/")}}catch(e){}var l,a}function r(e){var t=document.createElement("p");return t.innerHTML=e,t.style.margin="0 0 8px 0",t}function ne(){var e=document.createElement("div"),t=e.style;t.display="flex",t.justifyContent="center",t.alignItems="center",t.flexDirection="column",t.margin="0 auto",t.textAlign="center",t.color="#354051",t.fontFamily="Roboto, sans-serif",t.fontWeight="bold";function o(e){e.matches?t.fontSize="0.75rem":t.fontSize="32px"}var n=window.matchMedia("(max-width: 125px)");return o(n),n.addListener(o),e.appendChild(r("This content requires cookies to display.")),e.appendChild(r("<u>Click here</u> to enable POWr cookies in Functional section")),e}function ie(){window.CookieControl&&window.CookieControl.showCookieSettings&&window.CookieControl.showCookieSettings()}"undefined"==typeof loadPowr?(D=!1,X(),window.addEventListener?window.addEventListener("message",e):window.attachEvent("onmessage",e),U=0,POWR_RECEIVERS=[],(F=document.createEvent("Event")).initEvent("powrPingListener",!0,!0),loadPowr=function(){if(document.body){for(var t=null,e=null,o=null,n=!1,i=document.querySelectorAll("script"),r=0;r<i.length;r++){var l=i[r],a=l.getAttribute("src");if(null!=a){var s=l.getAttribute("powr-token"),d=l.getAttribute("external-type");(o=Z(a))&&o.loadApp&&o.uniqueId&&!l.getAttribute("auto-add")&&((R=document.createElement("div")).setAttribute("class","powr-"+o.loadApp),R.setAttribute("id",o.uniqueId),document.body.appendChild(R),l.setAttribute("auto-add",!0)),d=d||l.getAttribute("platform");var c,u=l.getAttribute("template-powr-token"),p=l.getAttribute("powr-load");if(null==p&&(p="sync"),$()&&$()<=9&&(p="sync"),n=l.getAttribute("demo-mode"),null!=s?t=s:-1<a.search("powr-token")&&void 0!==o["powr-token"]&&0<o["powr-token"].length&&(t=o["powr-token"]),null!=d?e=d:-1<a.search("external-type")?null!=(c=(o=Z(a))["external-type"])&&0<c.length&&(e=c):-1<a.search("platform")&&null!=(c=(o=Z(a)).platform)&&0<c.length&&(e=c),"ecwid"==e&&(p="sync"),null!=t||null!=e)break}}if(null==t||0==t.length)try{t=window.top.location.host}catch(e){t=""}"wix-oauth"==e&&document.querySelectorAll("head .powr-popup, head .powr-chat").forEach(function(e){document.body.append(e)});for(var m,g,w,E,f=/\[powr-[^\]]*\]/gi,h=/\[powr-[^\s\]]*/gi,v=document.querySelectorAll("a"),r=0;r<v.length;r++){ee(C=v[r])||(m=C.previousSibling,g=C.nextSibling,m&&g&&C.getAttribute("href")&&-1<C.getAttribute("href").search("tel")&&3==m.nodeType&&3==g.nodeType&&m.nodeValue.match(h)&&-1<g.nodeValue.search("]")&&(w=C.innerHTML,E=m.nodeValue.match(/powr-[^\s\]]*/gi)[0],(P=document.createElement("div")).innerHTML='<div class="'+E+'" label="'+w+'"></div>',m.parentNode.removeChild(m),g.parentNode.removeChild(g),C.parentNode.replaceChild(P,C)))}for(var R,y,v=document.querySelectorAll("body, body *"),r=0;r<v.length;r++){var C,S=(C=v[r]).childNodes;if(!ee(C))for(var b=0;b<S.length;b++){var _,O,P,I=S[b];3!=I.nodeType||(O=(_=I.nodeValue).replace(f,Q))!=_&&((P=document.createElement("div")).innerHTML=O,C.replaceChild(P,I))}}0==document.querySelectorAll("#powrIframeLoader").length&&(R=document.createElement("div"),y=document.getElementsByTagName("base")[0]||document.getElementsByTagName("script")[0],R.id="powrIframeLoader",R.innerHTML="&shy;<style> .powrLoaded iframe { visibility: hidden; } </style>",y.parentNode.insertBefore(R,y));var k=document.querySelectorAll("[class*=powr-]"),W=!1,x=!1;"jimdo"===c&&window.CookieControl&&D!==window.CookieControl.isPOWrAllowed()&&(X(),D=window.CookieControl.isPOWrAllowed());for(r=0;r<k.length;r++){var V=k[r];if(!ee(V)&&!(V instanceof SVGElement||-1<V.className.search("powrLoaded"))){for(var A=V.className.split(/\s+/),b=0;b<A.length;b++)if(0===A[b].toLowerCase().search("powr-")){var T=A[b].toLowerCase().replace("powr-","");break}if(void 0!==T){-1<["popup","sales-popup","sales-pop","exit-popup","exit-intent-popup","overlay-popup","onclick-popup","popup-form","email-popup","coupon-box","email-subscription-popup","popup-notification","full-screen-popup","survey-popup","splash-popup","popup-maker","slide-in","modal-popup"].indexOf(T)&&(W=!0),("scroll-to-top"==T||-1<["popup","sales-popup","sales-pop","exit-popup","exit-intent-popup","overlay-popup","onclick-popup","popup-form","email-popup","coupon-box","email-subscription-popup","popup-notification","full-screen-popup","survey-popup","splash-popup","popup-maker","slide-in","modal-popup"].indexOf(T))&&(x=!0);var L=V.getAttribute("label");if(null==L&&(L=""),"weebly_"!=L){V.className+=" powrLoaded",null==u&&(u="");var M=V.getAttribute("id");null==M&&(M="");var N,q=V.getAttribute("view-mode"),H="true"==n||"true"==V.getAttribute("demo-mode"),B=G+"/"+T+"/u/"+M+"#platform="+(c||"html"),J=encodeURIComponent(L),L=G+"/plugins/"+T+"/cached_view?load="+p+"&index="+U+"&unique_label="+M+"&powr_token="+t+"&user_label="+J+"&demo_mode="+H,H="https://www.powr.io/plugins/"+T+"/view.json?unique_label="+M+"&powr_token="+t+"&user_label="+J+"&demo_mode="+H;if(null!=e&&(H+=N="&external_type="+e,L+=N),null!=u&&(H+=N="&template_powr_token="+u,L+=N),null!=q&&(H+=q="&view_mode="+q,L+=q),Y()("page url IS "+te()),te()&&(H+="&url="+encodeURIComponent(te())),document.location.host)var j=document.location.protocol+"//"+document.location.host;else try{var j=document.location.ancestorOrigins[0]}catch(e){j=window.top&&window.top.location&&window.top.location.host?window.top.location.protocol+"//"+window.top.location.host:""}H+="&request_url="+encodeURIComponent(j),L+="&request_url="+encodeURIComponent(document.location.href),0==J.length&&(L=B);var z=document.createElement("iframe");if("jimdo"===c&&window.CookieControl&&!1===window.CookieControl.isPOWrAllowed())V.appendChild((B=void 0,(B=document.createElement("div")).style.padding="20px",B.style.backgroundColor="rgba(255,255,255,0.7)",B.style.backgroundImage="url(\"data:image/svg+xml,%3Csvg width='6' height='6' viewBox='0 0 6 6' xmlns='http://www.w3.org/2000/svg'%3E%3Cg fill='%235287df' fill-opacity='0.61' fill-rule='evenodd'%3E%3Cpath d='M5 0h1L0 6V5zM6 5v1H5z'/%3E%3C/g%3E%3C/svg%3E\")",B.appendChild(ne()),B.onclick=ie,B));else{z.src=L,z.setAttribute("powrindex",U),z.width="100%",z.height=z.style.height="0px",z.style.transition="height 0.3s",z.style.webkitTransition="height 0.3s",z.style.display="block",z.frameBorder="0",z.style.visibility="visible",z.setAttribute("webkitallowfullscreen",""),z.setAttribute("mozallowfullscreen",""),z.setAttribute("allowfullscreen",""),"ecwid"==e&&(V.style.minWidth="280px");try{/iPhone|iPod|iPad/.test(navigator.userAgent)&&(z.style.minWidth="100%",z.style.width="1px",z.setAttribute("scrolling","no"))}catch(e){console.log("Err: "+e)}!function(t,o,n){function e(){var e={message:"loaded",data:{iframe_index:o,parent_window_width:window.innerWidth||document.documentElement.clientWidth||document.getElementsByTagName("body")[0].clientWidth,parent_window_height:window.innerHeight||document.documentElement.clientHeight||document.getElementsByTagName("body")[0].clientHeight}};Y()("POWr.js sending load message to url"+n+"; iframe:",t),t.contentWindow.postMessage(JSON.stringify(e),n)}t.addEventListener?t.addEventListener("load",e):t.attachEvent("onload",e)}(z,U,L),V.appendChild(z);V=z.contentWindow;POWR_RECEIVERS.push({receiver:V,url:L,data_url:H}),"async"==p&&(oe(U),function t(o,e){e.addEventListener&&(e.addEventListener("powrPingListener",function(){return POWR_RECEIVERS[o].listenerConnected=!0},!1),POWR_RECEIVERS[o].ping_interval=setInterval(function(){var e=document.querySelectorAll('[powrindex="'+o+'"]')[0];e&&(POWR_RECEIVERS[o].listenerConnected=!1,e.dispatchEvent(F),!1===POWR_RECEIVERS[o].listenerConnected&&(console.log("POWr Lost connection. Reconnecting"),clearInterval(POWR_RECEIVERS[o].ping_interval),POWR_RECEIVERS[o].receiver=e.contentWindow,oe(o),t(o,e)))},2e3))}(U,z)),U++}}}}}W&&(K(document,"click",function(e){e=(e=e||window.event).relatedTarget||e.toElement||e.target;if(e&&e.classList.contains("trigger-popup"))for(var t=0;t<POWR_RECEIVERS.length;t++)POWR_RECEIVERS[t].receiver.postMessage(JSON.stringify({message:"triggerPowrPopupClick"}),POWR_RECEIVERS[t].url)}),K(document,"mouseout",function(e){if((e=e||window.event).clientY<5)for(var t=0;t<POWR_RECEIVERS.length;t++)POWR_RECEIVERS[t].receiver.postMessage(JSON.stringify({message:"exitDocument"}),POWR_RECEIVERS[t].url)})),x&&K(document,"scroll",function(e){for(var t=(document.documentElement.scrollHeight||document.body.scrollHeight)-window.innerHeight,o=100*(document.documentElement.scrollTop||document.body.scrollTop)/t,n=0;n<POWR_RECEIVERS.length;n++)POWR_RECEIVERS[n].receiver.postMessage(JSON.stringify({message:"scrollPosition",scrollPercentage:o}),POWR_RECEIVERS[n].url)})}},loadPowr(),setInterval(function(){loadPowr()},500),K(window,"load",loadPowr),o=!1,K(window,"keydown",function(e){if(80==e.keyCode&&(o=!0,setTimeout(function(){o=!1},2e3)),38==e.keyCode&&o){for(var t=0;t<POWR_RECEIVERS.length;t++)POWR_RECEIVERS[t].receiver.postMessage(JSON.stringify({message:"showEdit"}),POWR_RECEIVERS[t].url);return e.preventDefault(),!1}if(40==e.keyCode&&o){for(t=0;t<POWR_RECEIVERS.length;t++)POWR_RECEIVERS[t].receiver.postMessage(JSON.stringify({message:"hideEdit"}),POWR_RECEIVERS[t].url);return e.preventDefault(),!1}})):Y()("Powr already loaded")}();